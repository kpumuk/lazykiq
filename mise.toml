[tools]
golang = "1.25.5"
golangci-lint = "2.7.2"
hugo-extended = "0.152.2"
lefthook = "2.0.13"

[tasks.ci]
description = "Format code and run all CI checks"
depends = ["format", "lint", "test"]

[tasks.lint]
description = "Run golangci-lint"
run = "golangci-lint run"

[tasks.format]
description = "Format with golangci-lint"
run = "golangci-lint fmt"
alias = "fmt"

[tasks.test]
description = "Run tests"
run = "go test ./..."

[tasks.coverage]
description = "Run tests with coverage"
run = "go test -coverprofile=coverage.out ./... && go tool cover -html=coverage.out"
alias = "cov"

[tasks.deps]
description = "Update development dependencies"
run = "go get -u ./... && go mod tidy"

[tasks.website-dev]
description = "Run Hugo in development mode"
run = "bun dev --baseURL http://localhost:1313/lazykiq"
dir = "website"
